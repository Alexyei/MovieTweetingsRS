# Структруа проекта

## Client

## Server

### seeders

Сеятели заполняют БД исходными данными

| Название                      | Описание                                                                                                                                                                                                                                                               | Изменения в БД                                                                                                                                           |
|-------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------|
| *populate_movies*             | Загружает сведения о фильмах из файла на github                                                                                                                                                                                                                        | Перезаписывает таблицы `Movie` и `Genre`.                                                                                                                |
| *populate_ratings*            | Загружает оценки пользователей из файла на github. Оценки в диапазоне [0,10]. 0 оценки заменяются на 0.00001                                                                                                                                                           | Перезаписывает таблицу `Rating`. При необходимости создаёт пользователей (`User`). **Таблица `Movie` уже должна быть заполнена!**                        |
| *populate_movies_description* | Загружает описания фильмов и их постеры используя *api.themoviedb.org*. **API доступно только через VPN! Поэтому на выполнение "посева" требуется много времени (прогресс при остановке сохраняется). Также необходимо предварительно зарегистрироваться в этом API.** | **Таблица `Movie` уже должна быть заполнена!** Добавлет описание, ссылку на постер и дополнительные жанры в таблицу `Movie`. Сохраняет постеры локально. |
| *populate_logs*               | Имитирует действия пользователя на сайте. Необходимо для расчёта неявных оценок.                                                                                                                                                                                       | Перезаписывает таблицу `UserEvent`. При необходимости добавляет пользователей.                                                                           |

- populate_movies. Загружает сведения о фильмах.
- populate_ratings. Загружает оценки пользователей.
- populate_movies_description Загружает описания фильмов и их постеры.

### builders

Построители создают данные на основе исходных данных полученных от сидеров.

| Название                               | Описание                                                                                                                                                                   | Изменения в БД                                       |
|----------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|
| *calculate_implicit_ratings*           | Рассчитывает неявные оценки пользователей анализируя таблицу `UserEvent` . Оценки в диапазоне [0,10]. 0 оценки заменяются на 0.00001                                       | Перезаписывает все неявные оценки в таблице `Rating` |
| *calculate_implicit_ratings_timedecay* | Рассчитывает неявные оценки пользователей анализируя таблицу `UserEvent`. Учитывает временное затухание по дням. Оценки в диапазоне [0,10]. 0 оценки заменяются на 0.00001 | Перезаписывает все неявные оценки в таблице `Rating` | 

# TODO
1. Можно сохранять значение overlap при расчёте сходств